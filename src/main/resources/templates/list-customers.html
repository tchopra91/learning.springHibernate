<!DOCTYPE html>

<html lang="en">

<head>
    <title>List Customers</title>

    <!-- reference our style sheet -->

    <link type="text/css" rel="stylesheet" th:href="@{/styles/style.css}" />
</head>

<body>
    <div id="wrapper">
        <div id="header">
            <h2>CRM - Customer Relationship Manager</h2>
        </div>
    </div>

    <div id="container">

        <div id="content">

            <!-- put new button: Add Customer -->

            <input type="button" value="Add Customer"
                   onclick="window.location.href='showFormForAdd'; return false;"
                   class="add-button" />

            <div>
                <form action="search" method="GET">
                    <label>Search Customer</label>
                    <input type="text" name="searchText" />
                    <input type="submit" value="Search" class="add-button" />
                </form>
            </div>

            <!--  add our html table here -->

            <table>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Action</th>
                </tr>
                <tr th:each="customer : ${customers}">
                    <td th:text="${customer.getFirstName()}"></td>
                    <td th:text="${customer.getLastName()}"></td>
                    <td th:text="${customer.getEmail()}"></td>
                    <td>
                        <a
                           th:href="@{/customer/showFormForUpdate(customerId=${customer.getId()})}">Update</a>
                        |
                        <a
                           th:href="@{/customer/delete(customerId=${customer.getId()})}"
                           onclick="if(!(confirm('Are you sure you want to delete this customer?'))) return false;">Delete</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</body>

</html>